<% include ../views/partials/header %>
<h1><%= title %></h1>
<div class="row">
  <div class="col-md-12">
    <form action="/register" method="post">
      <% if (!error_message) { %>
        <div class="form-group">
          <label for="name">User</label>
          <input class="form-control" type="text" name="name" placeholder="Name">
        </div>
        <div class="form-group">
          <label for="username">Username</label>
          <input class="form-control" type="text" name="username" placeholder="Username">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input class="form-control" type="text" name="email" placeholder="Email">
        </div>
        <div class="form-group">
          <label for="password">Email</label>
          <input class="form-control" type="text" name="password" placeholder="Password">
        </div>
        <div class="form-group">
          <label for="passwordConfirm">Confirm password</label>
          <input class="form-control" type="text" name="passwordConfirm" placeholder="Confirm password">
        </div>
        <br />
        <button class="btn btn-primary" name="submit" type="submit">Register</button>
        <br />
        Already have an account? <a href="#">Login</a>
      <% } else { %>
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          <p>
            Please check the form
            <br>
          </p>
          <ul>
            <% for (message in error_message){ %>
              <% obj = error_message[message]; %>
              <li><%= obj.msg %></li>
            <% } %>
          </ul>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="form-group">
          <label for="name">Name</label>
          <% if (error_message.name) { %>
            <input class="form-control is-invalid" type="text" name="name" placeholder="Name">
          <% } else {%>
            <input class="form-control" type="text" name="name" value="<%= reqData.name %>">
          <% } %>
        </div>
        <div class="form-group">
          <label for="username">Username</label>
          <% if (error_message.username) { %>
            <input class="form-control is-invalid" type="text" name="username" placeholder="Username">
          <% } else {%>
            <input class="form-control" type="text" name="username" placeholder="Username" value="<%= reqData.username %>">
          <% } %>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <% if (error_message.email) { %>
            <input class="form-control is-invalid" type="text" name="email" placeholder="Email">
          <% } else {%>
            <input class="form-control" type="text" name="email" placeholder="Email" value="<%= reqData.email %>">
          <% } %>
        </div>
        <% if (error_message.password || error_message.passwordConfirm) { %>
        <div class="form-group">
            <label for="password">Password</label>
            <input class="form-control is-invalid" type="text" name="password" placeholder="Password">
        </div>
        <div class="form-group">
            <label for="passwordConfirm">Confirm Password</label>
            <input class="form-control is-invalid" type="text" name="passwordConfirm" placeholder="Confirm Password">
        </div>
        <% } else {%>
          <div class="form-group">
              <label for="password">Password</label>
              <input class="form-control" type="text" name="password" placeholder="Password">
          </div>
          <div class="form-group">
              <label for="passwordConfirm">Confirm Password</label>
              <input class="form-control" type="text" name="passwordConfirm" placeholder="Confirm Password">
          </div>
        <% } %>
        <br>
        <button class="btn btn-primary" name="submit" type="submit">Register</button>
        Already have an account? <a href="#">Login</a>
      <% } %>
    </form>
  </div>
</div>
<% include ../views/partials/footer %>
